-- Migration: Add email column to users table
-- Version: 2
-- Description: Example migration showing how to add a new column
-- 
-- IMPORTANT: This is an EXAMPLE file. Remove .example extension and 
-- customize before using in production.

-- Add email column
ALTER TABLE users 
ADD COLUMN IF NOT EXISTS email VARCHAR(255) NULL;

-- Add unique constraint on email (optional)
-- CREATE UNIQUE INDEX IF NOT EXISTS idx_users_email ON users(email) WHERE email IS NOT NULL;

-- Add comment
COMMENT ON COLUMN users.email IS 'Email do usu√°rio para contato';

-- Example: Update existing records (if needed)
-- UPDATE users SET email = username || '@example.com' WHERE email IS NULL;

